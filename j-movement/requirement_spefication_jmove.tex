\documentclass[DIV=calc, paper=a4, fontsize=11pt]{scrartcl} % Документ принадлежит классу article, а также будет печататься в 12 пунктов.
\usepackage{ucs}
\usepackage[T1,T2A]{fontenc}
\usepackage[utf8x]{inputenc} % Включаем поддержку UTF8
\usepackage[russian]{babel} % Пакет поддержки русского языка
\usepackage{titling} % Allows custom title configuration

%for frames
\usepackage{framed}

%For image using
\usepackage{graphicx}

%Numbering subsubsubsections etc
\setcounter{secnumdepth}{5}


%Further enumeration
\usepackage{enumitem}
\setenumerate[1]{label=\thesubsection.\arabic*.}
\setenumerate[2]{label*=\arabic*.}


%For referencing within enumeration lists
\usepackage{enumitem}

%Packages for word-like comment style
\usepackage{todonotes}

%Package for images
\usepackage{float}
\floatstyle{boxed}
\restylefloat{figure}

%For a nicer reference
\usepackage{fancyref}

\usepackage{titlesec}


\titleformat*{\section}{\LARGE\bfseries}
\titleformat*{\subsection}{\Large\bfseries}
\titleformat*{\subsubsection}{\large\bfseries}
\titleformat*{\paragraph}{\large\bfseries}
\titleformat*{\subparagraph}{\large\bfseries}

%For some math formulas if needed
\usepackage{mathtools}

% Some nice visualization
%\usepackage[svgnames]{xcolor} % Enabling colors by their 'svgnames'
\usepackage{fullpage}
%\renewcommand{\headrulewidth}{0.0pt} % No header rule
%\renewcommand{\footrulewidth}{0.4pt} % Thin footer rule
% End visualization

%smart enumeration
\renewcommand{\labelenumi}{\arabic{enumi}.}
\renewcommand{\labelenumii}{\arabic{enumi}.\arabic{enumii}}


\title{Макет технического задания для EUROSTARS}
\date{17/09/2014}

\begin{document}

\maketitle

\section{Описание проекта}
Сайт представляет собой один из (примерно) 15и сайтов одинаковой тематики - еврейского молодежного движения. В первый подход будет реализован только первый сайт. Пользователь может регистрироваться на любом сайте, его данные должны быть действительны для всех последующих сайтов (поддержка мультисайтов).
\subsection{Суть сайта}
Веб-страница содержит в себе информацию по движению, а также некоторые интерактивные элементы. Участники движения с соответствующими правами могут создавать event'ы и внутри event'а много небольших событий. Пример такой вложенности может быть:
\\ Event - поездка в Израиль
\\ subevents - музей номер 1 в понедельник, музей номер 2 в среду, лекции в четверг
\subsection{Пользователи}
Сайт заточен под несколько ролей пользователей. На данный момент в их числе - админ, лектор и обычный пользователь. Лектор и пользователь всегда привязаны к месту жительства (центральный аспект системы).
\\[0.5cm]
Обычные пользователи могут записываться на события и принимать в них участие если лектор одобряет данного пользователя. Также обычные пользователи могут подавать заявки на получение визы для определенного события и могут через сайт отслеживать прогресс получения визы.
\\[0.5cm]
Также обычные пользователи могут просматривать прошедшие мероприятия, которые они посещали.
\\[0.5cm]
Пользователи могут просматривать все события лектора.
\subsection{Локация}
С привязкой пользователей к месту обитания связаны следующие функциональные части - лектор может на сайте (не в админке) просматривать всех пользователей своего города\todo[inline]{именно пользователей или же участников своего события из своего города?}. Лектор также может в соответствующем разделе скачивать файлы, относящиеся к его локации.

\section{Технические уточнения}

\subsection{Термины}
    \begin{enumerate}
        \item Блок - некий визуальный элемент, выделяющийся либо графически (в виде рамок, очертаний), либо по смыслу (совокупность похожих элементов)
        \item Компонент - часть содержания, имеющего закрытое визуально представление. Одна страница сайта может состоять из нескольких компонентов.
        \item Фронтэнд - для пользователя видимая оболочка веб-страницы
        \item Бэкэнд - невидимые для пользователя математические алгоритмы
        \item CMS - все работы происходят на основе системы управления содержанием - CMS 1C Bitrix (1С Битрикс)
        \item Модуль - является описанием общего функционала, который не может быть классифицирован как привязанный к определенной странице. Он может встречаться на любой странице в любом месте. Модуль может состоять из нескольких компонентов. Также модуль может содержать в себе части логики фронтэнда и бэкэнда.
        \item Хэдер - верхняя часть сайта, обладающая определенной структурой, которая видна сквозняком на всех или почти всех страницах сайта. Также используется обозначение "шапка".
        \item Футер - нижняя часть сайта. Функционал аналогичен хэдеру. Также используется обозначение "подвал".
    \end{enumerate}


\subsection{Технические требования к сайту}
Сайт должен быть адаптивным, поддерживать IE 8+ и использовать технологию композита.


\section{Модули}

\subsection{События}
Событие представляет собой информационный блок, который содержит в себе кроме перечня подсобытий также следующую информацию:

    \begin{enumerate}
        \item Создателя события (администратор) 
        \item Дату начала и конца события
        \item Страну проведения события \todo[inline]{Мультивыбор нужен будет?}
    \end{enumerate}
    
\subsection{Подсобытие}
"Подсобытие" представляет собой небольшое мероприятия на время проведения всей поездки. Для каждого подсобытия необходима возможность сохранять и показывать следующую информацию:


    \begin{enumerate}
        \item Дата и время подсобытия
        \item Тип подсобытия (музей, выставка, лекция...) и название
        \item Закрытость события - открыто для всех желающих или после проверки
        \item Лектор подсобытия - для определенных типов нужно будет запрашивать при создании лектора. Например тип "лекция" не может быть создан без указания лектора.\todo[inline]{Так ли это? У каждого подсобытия лекторы?}
        \item Максимальное кол-во участников
        \item Фотографии
        \item Описание
    \end{enumerate}
Также для каждого подсобытия со статусом "после проверки" необходим функционал модерации участников, при котором лектор \todo[inline]{Кто именно проверяет?} подтверждает право пользователя участвовать в подсобытии.
\\[0.5cm]
Для события, аналогично подсобытию, должна проходить модерация участников.

\subsection{Рассылка}
Помимо стандартного функционала Битрикса касательно рассылки необходимо добавить фильтры пользователей и их мероприятий при создании рассылки, т.е. например отослать только пользователем одного города, только определенного пола, только тем, кто посетил определенные мероприятия.

\section{Страницы}

\subsection{Главная}

На главной странице отображены блоки последующих страниц. Т.е. это могут быть новости \todo[inline]{Кстати новостей не было в описании - нужны?}, описание программы, расписание текущего/грядущего события, фрагмент галлереи.

\subsection{О программе}
Страница содержит текстовое описание программы и большую ссылку на расписание.
\subsubsection{Расписание}
В начале страницы пользователь видит переключающие ссылки между текущим событием и архивом.\todo[inline]{Для каждого города может быть свое уникальное событие или на все движение оно всегда одно?}

\paragraph{Текущие событие}
Текущее событие представлено в виде двухмерной ленты. По вертикальной ленте отображаются дни, по горизонтальной отображаются часы. Пример:
        \begin{figure}[H]
        \centering
        \includegraphics[width=320px]{j_move_event_feeds.png}
        \caption{Лента события с подсобытиями\label{fig:j_move_event_feeds.png}}
        \end{figure}

Подсобытия кликабелны и ведут каждое на свою собственную страницу с подробным описанием, фотографиями, лектором. Лектор является кликабельной ссылкой которая ведет на профиль лектора с обзором всех его событий.
        
\paragraph{Архив \label{archive}} 
Через день\todo[inline]{Нужно ещё точно определить.} после завершения события оно переходит в архив. Пользователь может просматривать архив. Архив представляет собой список, фильтры которого можно настраивать в начале списка - дату, место проведения. Каждая строка данного списка состоит из даты события и его места проведения. При нажатии на строку показываем DIV с лентой события, которая соответствует ленте активного события, только без возможности записаться на данное событие.

\subsection{Страница подсобытия}
На данной странице расположены:
    \begin{enumerate}
        \item Заглавная фотография подсобытия (если таковая имеется)
        \item Текст с описанием мероприятия
        \item Техническая информация - сколько участников (если ограничено), кто лектор, где, когда
        \item Список участников
    \end{enumerate}


\subsection{Галлерея}
Делится на время и места, при просмотре фотографии можно скачивать. Пример вложенности:
2014 - лето - Польша - музей ВанГога

\subsection{Личный кабинет и связанные с ним страницы}
\subsubsection{Регистрация}
Помимо стандартных полей запрашиваем обязательно город, пол \todo[inline]{Что ещё?}. 
Город должен обязательно выбираться из списка, если указанного города нет, то пользователя регистрируем, но на события записаться он не может (об этом также пишем пользователю, что мол - сорри, города нет, до появления в списке не сможешь записаться на события). Одновременно отправляем администратору сайта запрос на добавление нового города. Как только город был добавлен администратором пользователю становится доступной функция регистрации.

\subsubsection{Заявка на визу/статус визы}
В виде отдельной закладки (таб) пользователь может в ЛК просматривать статус своей визы на текущее мероприятие (или подать заявку на получение визы).
\\[0.5cm]
Для конкретного события пользователь может подавать заявления на получение визы. Статус обработки необходимо отображать в виде визуального элемента (красный, например, квадрат - означат отказ в получении; желтый - заявка находится на стадии рассмотрения; зеленый - виза одобрена)
\\[0.5cm]
Важно сохранять значения визы относительно страны проведения мероприятия и срок действия визы. Т.е. если в будущем появляется новое мероприятие в стране, для которой действует любая активная виза пользователя, то в закладке показываем, что статус визы для этого мероприятия активен.\todo[inline]{Нужен такой функционал?}
\subsubsection{Посещенные мероприятия}
Также в виде закладки (таб) показываем списком посещенные пользователем мероприятия. Здесь нужно использовать модуль события, который подгружаем аналогично архиву (см. пункт \ref{archive})

\subsubsection{Файлы для скачивания}
Админы могут рассылать определенные файлы лекторам. Это могут быть либо общие файлы, либо файлы прикрепленные к определенному событию (или подсобытию).\todo[inline]{Так ли это?} Лектор видит данные файлы в ЛК в соответствующей закладке. Обзор файлов лектор может переключать между двумя - по дате поступления, по событиям либо все общие.


\section{Примеры использования}

\begin{framed}
\subsection{Пользователь Леонид}
Леонид узнал о сайте совсем недавно. Леонид очень любознательный молодой человек и технологично продвинутый (и активный) и хочет больше узнать о Еврейской общине и видит в движении ЕвроСтарс подходящий способ получить позновательную информацию. Так как сайт обладает приятным, стильным интерфейсом это ещё больше сподвигает Леонида на пользование ресурсом.
\\[0.5cm]
Помимо просмотра доступных страниц Леонид может зарегистрироваться на сайте, указав свои данные - логин, почту, пароль и где он живет. Так как его город был сразу доступен для выбора, Леонид видит приветствующее окно, говорящее ему, что Леонид может теперь записываться на события и подсказывает ему сразу ближайшее событие, на которое он может записаться.
\\[0.5cm]
Просмотрев событие Леонид определил что это время и тематика ему по душе. Он записывается на поездку, отправляя при этом запрос. Статус подтверждения приходит ему после некоторого времени как на почту, так и на самом сайте в виде всплывающего окна. После подтверждения Леонид просматривает ещё раз список подсобытий и выбирает для себя подходящие, если такой выбор предоставлен\todo[inline]{Может регистрацию на событие и подсобытие совместить? Как-то неудобным я себе это представляю, постоянно регится}

Так как у Леонида нет визы для данной поездки он в личном кабинете может в режиме онлайн загрузить необходимые документы - список чекбоксов подскзаывает ему, какие док-ты нужны. После отправки заявки на получение визы он также в личном кабинете может просматривать статус заявки, а на почту ему приходят оповещения о смене статуса.
\end{framed}



\end{document}