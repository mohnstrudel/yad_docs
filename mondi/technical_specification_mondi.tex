\documentclass[DIV=calc, paper=a4, fontsize=11pt]{scrartcl} % Документ принадлежит классу article, а также будет печататься в 12 пунктов.
\usepackage{ucs}
\usepackage[T1,T2A]{fontenc}
\usepackage[utf8x]{inputenc} % Включаем поддержку UTF8
\usepackage[russian]{babel} % Пакет поддержки русского языка
\usepackage{titling} % Allows custom title configuration

%for frames
\usepackage{framed}

%increase Table of Contents depth to 4 (i.e. including paragraphs)
\setcounter{tocdepth}{4}

%For image using
\usepackage{graphicx}

%Numbering subsubsubsections etc
\setcounter{secnumdepth}{5}

%For code highlightning
\usepackage{listings}

%Further enumeration
\usepackage{enumitem}
\setenumerate[1]{label=\theparagraph.\arabic*.}
\setenumerate[2]{label*=\arabic*.}
\setenumerate[3]{label*=\arabic*.}


%For referencing within enumeration lists
\usepackage{enumitem}

%Packages for word-like comment style
\usepackage{todonotes}

%Package for images
\usepackage{float}
\floatstyle{boxed}
\restylefloat{figure}

%For a nicer reference
\usepackage{fancyref}

\usepackage{titlesec}


\titleformat*{\section}{\LARGE\bfseries}
\titleformat*{\subsection}{\Large\bfseries}
\titleformat*{\subsubsection}{\large\bfseries}
\titleformat*{\paragraph}{\large\bfseries}
\titleformat*{\subparagraph}{\large\bfseries}

%For some math formulas if needed
\usepackage{mathtools}

% Some nice visualization
%\usepackage[svgnames]{xcolor} % Enabling colors by their 'svgnames'
\usepackage{fullpage}
%\renewcommand{\headrulewidth}{0.0pt} % No header rule
%\renewcommand{\footrulewidth}{0.4pt} % Thin footer rule
% End visualization

%smart enumeration
\renewcommand{\labelenumi}{\arabic{enumi}.}
\renewcommand{\labelenumii}{\arabic{enumi}.\arabic{enumii}}


% General document settings %
% % %
% Accepted file upload formats
\newcommand{\AcceptedFormats}{.txt, .csv, .xls, .xlsx}
\newcommand{\workingTitle}{MaestroPrintClub}
\newcommand{\clientName}{Монди}


\title{Система лояльности клиентов}
\date{12/10/2015}

\begin{document}

\tableofcontents

\maketitle

\section{Описание проекта}

Данный проект (рабочее название \workingTitle) представляет собой программное обеспечение - SaaS (Software as a Service), размещенное на сервере/серверах заказчика и позволяющее клиентам заказчика регистрироваться в сервисе. \\[0.5cm]
Суть системы состоит в возможности для клиентов заказчика, загружать данные о покупке продукции, получения баллов за эти покупки и приобретения на баллы различных продуктов.

\subsection{Описание для сотрудника \clientName}
Пользователь (сотрудник) компании \clientName, который является заказчиком, может просматривать всех пользователей (клиентов), просматривать профиль каждого пользователя, просматривать загруженные документы и сколько баллов за них было начислено. Также он может просматривать все покупки любого пользователя (клиента).

\subsection{Описание для рядового пользователя}
Рядовой пользователь может регистрироваться в системе, загружать документы покупки (полный перечень в разделе ... ), просматривать каталог товаров и услуг, которые можно получить за баллы и подавать запрос на получение услуги за определенное кол-во баллов.

\subsubsection{Регистрация клиента}

\paragraph{Общие настройки регистрации}
Необходимо ограничить регистрацию клиентов, и ввести один код для возможности регистрации. Т.е. только избранным клиентам будет отправляться ссылка на портал и код для возможности зарегистрироваться (один на всех). Далее в кабинете администратора портала должна быть возможность сменить этот код.

\paragraph{Процесс регистрации}
Клиент при регистрации должен будет ввести следующие данные:

\begin{itemize}
	\item Название компании (Обязательно)
	\item ФИО контактного лица (Обязательно)
	\item e-mail (с проверкой формата адреса, обязательно)
	\item телефон (с формой ввода, чтобы не было разных форматов ввода адреса, обязательно)
	\item Модель используемого для печати оборудования (возможность ввести несколько, не обязательно)
	\item Выбор из списка производителей бумаги, напротив которых клиент может поставить галочки (не обязательно)
\end{itemize}

Далее нажимает кнопку "Зарегистрироваться" и получает письмо со ссылкой на подтверждение регистрации (как на всех сайтах). После подтверждения регистрации ему должно прийти еще одно письмо с логином и паролем. 
\\[0.5cm] 
Также необходимо предусмотреть процедуру автоматического восстановления пароля по e-mail адресу.

\subsection{Прототип}
Прототип проекта доступен по ссылке http://yadadya.com/showcase/mondi/prototype/

\section{Технические уточнения}

\subsection{Терминология}
        
        \begin{itemize}
        \item Блок - некий визуальный элемент, выделяющийся либо графически (в виде рамок, очертаний), либо по смыслу (совокупность похожих элементов)
        \item Компонент - часть содержания, имеющего закрытое визуально представление. Одна страница сайта может состоять из нескольких компонентов.
        \item Фронтэнд - для пользователя видимая оболочка веб-страницы
        \item Бэкэнд - невидимые для пользователя математические алгоритмы
        \item CMS - все работы происходят на основе системы управления содержанием - CMS 1C Bitrix (1С Битрикс)
        \item Админ-панель (или "админка") - административная часть CMS 1C-Bitrix, с помощью которой администратор сайта может управлять содержимым сайта (создавать, удалять, редактировать и просматривать)
        \item Модуль - является описанием общего функционала, который не может быть классифицирован как привязанный к определенной странице. Он может встречаться на любой странице в любом месте. Модуль может состоять из нескольких компонентов. Также модуль может содержать в себе части логики фронтэнда и бэкэнда.
        \item Хэдер - верхняя часть сайта, обладающая определенной структурой, которая видна сквозняком на всех или почти всех страницах сайта. Также используется обозначение "шапка".
        \item Футер - нижняя часть сайта. Функционал аналогичен хэдеру. Также используется обозначение "подвал".
    \end{itemize}
    
\subsection{Технические требования}
Для работоспобности системы mondi её необходимо установить на unix-машине с настроенным apache2 или nginx сервером.
Для удобства администрирования также рекомендуется использовать phpMyAdmin.
\\[0.5cm]
Минимальная конфигурация сервера:
\begin{itemize}
	\item 512 мегабайт оперативной памяти
	\item 1-ядерный процессор
	\item 1500 мегагерц тактовой частоты
	\item 15000 килобайт процессорного кеша
\end{itemize}


\section{Модули}

\subsection{Баллы}

Для начисления баллов необходимо требовать от пользователя ввод номера паллеты. Далее этот номер сверяется с тем, что предоставляет завод.

\subsubsection{Обновление файла завода}

Согласован формат передачи c помощью XML файла. На стороне исполнителя организуется FTP сервер который можно будет настроить автоматическую выгрузку файла. ИТ клиента настраивает выгрузку файла в формате 'units\_data.xml' (например, units\_20151106.xml), а мы уже сами забираем файл и загружаем во внутреннюю таблицу с номерами паллет на портале. Необходимо хранить все версии файлов и архивировать только при необходимости. Т.е. каждые два дня будет выгружаться файл, который содержит данные предыдущего файла и новые номера паллет.
\\[0.5cm]
Процесс выгрузки данных будет автоматическим раз в 2 дня.

\subsection{Аналитика}

Аналитические действия для битриксовой админки:

\begin{itemize}
	\item Отчет по клиентам (данные из карточки клиента) с возможностью выгрузки в Excel
	\item Отчет по загрузкам XML файла (дата загрузки, кол-во записей в XML файле, кол-во вставленных записей в БД (для того чтобы понимать, что мы не загружаем один и тот же файл))
	\item Отчет по баллам и заказам призов клиентами с возможность выгрузки в Excel (Компания, Кол-во баллов, список ИД  загруженных паллет, список подарков полученных за баллы)

\end{itemize}

\subsection{Мониторинг}
При отсутствии новых данных (проблема с загрузкой, XML файл не обновлен), должно приходить письмо администратору (с возможность изменить адрес в кабинете администратора)



%Новая глава%

\section{Страницы}

\subsection{Главная}

Главная страница представляет собой посадочную страницу, которая объясняет суть программы (текстом и изображениями) в разделе "миссия". Далее следуют разделы:

\begin{itemize}
	\item Участники (слайдер с участниками) - загружаются вместе с логотипом в админ-панели
	\item Привилегии (перечень достоинств) - список редактируется в админ-панели
	\item Новости (последние 3 новости) - редактируется в админ-панели
\end{itemize}

\subsubsection{Регистрация/Логин}
На данной подстранице пользователь может зарегистрироваться в системе или зайти в систему по уже имеющейся связке логин/пароль. Сюда также относится подстраница "забыли пароль?", на которой пользователь может восстановить свой пароль.

\subsection{Личный кабинет}

Личный кабинет делится на два основных блока - ЛК для рядового пользователя и администраторский ЛК (для сотрудника \clientName - в дальнейшем "администратор"). Возможности данной системы описываются отдельно для каждой категории пользователей.


\subsubsection{Рядовой пользователь}

Вид личного кабинета для рядового пользователя существенно отличается. Он видит свой дашборд, видит свои документы, может редактировать свой профиль и просматривать каталог.


\paragraph{Дашборд}

На дашборде пользователь видит сколько баллов он получил в последнее время и какие товары/услуги он приобрел на эти баллы. Также он видит какие услуги были недавно добавлены, какие самые популярные, сводку последних новостей и последние сообщения (например при уточнении покупки пользователь может переписываться с администратором).

\paragraph{Профиль пользователя}

Данная странице открывается сразу в режиме редактирования (нет просто просмотра). Доступны следующие поля:

\begin{itemize}
	\item ФИО
	\item Почта
	\item Телефон
	\item Блок - поменять пароль (ввести старый, два раза новый)
	\item Компания
	\item Дата рождения
	\item Загрузить фотографию
\end{itemize}

\paragraph{Мои баллы}

На данной странице идет перечень кодов паллет, которые пользователь загрузил. Поля в табличной форме:

\begin{itemize}
	\item Номер паллеты
	\item Дата загрузки
	\item Статус документа
	\item Кол-во полученных за документ баллов.
\end{itemize}

Также пользователь может загрузить новый номер паллеты, что бы получить за неё баллы. Клиент должен иметь возможность ввести сразу несколько ИД паллет.

\paragraph{Каталог}

Страница показывает перечень товаров/услуг, которые можно купить за баллы. Есть главная и детальная страница позиции каталога.

\subparagraph{Перечень товаров}
На данной странице идет перечень всех позиций каталога.
Также имеем блок рекомендованных позиций в виде tile'ов (по аналогии с market.yandex.ru). На каждой плитке имеем название, стоимость в баллах и короткое описание.
\\[0.5cm]
Перечень остальных товаров идет в табличной форме. Поля следующие:

\begin{itemize}
	\item Название
	\item Короткое описание
	\item Стоимость в баллах
	\item Дата добавления
\end{itemize}

\subparagraph{Детальная страница товара}
На данной странице идет детальная информация о товаре/услуге. Следующие элементы имеются на детальной странице:

\begin{itemize}
	\item Заголовок
	\item Описание
	\item Фотографии
	\item Форма заявки для покупки данной услуги - форма подразумевает поле комментария
\end{itemize}

\paragraph{Новости}
Список всех новостей. При клике на новость пользователь попадает на стандартную детальную страницу новости.

\paragraph{Сообщения}
Список всех переписок пользователя с администраторами

\paragraph{Обратная связь}
На данной странице пользователь может задать произвольный вопрос администратору. Запрос приходит в модуль общий раздел переписки к администратору и также дублируется администратору на почту.

\paragraph{Контакты}
На данной странице выводятся контактные данные заказчика. Ими он управляет из панели администратора.










\end{document}